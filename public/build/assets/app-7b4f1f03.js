import{i as r}from"./typed.module-00a59234.js";import{f as l,e as t,m as n,L as c}from"./fetch-4937b797.js";import{c as h}from"./clipboard-63a5fb10.js";function d(e={show:!1,focusable:!1}){return{show:e.show,focusable:e.focusable,closeModal(){this.show=!1},openModal(){this.show=!0},focusables(){let s="a, button, input:not([type='hidden']), textarea, select, details, [tabindex]:not([tabindex='-1'])";return[...this.$el.querySelectorAll(s)].filter(i=>!i.hasAttribute("disabled"))},firstFocusable(){return this.focusables()[0]},lastFocusable(){return this.focusables().slice(-1)[0]},nextFocusable(){return this.focusables()[this.nextFocusableIndex()]||this.firstFocusable()},prevFocusable(){return this.focusables()[this.prevFocusableIndex()]||this.lastFocusable()},nextFocusableIndex(){return(this.focusables().indexOf(document.activeElement)+1)%(this.focusables().length+1)},prevFocusableIndex(){return Math.max(0,this.focusables().indexOf(document.activeElement))-1},init(){this.$watch("show",s=>{s?(document.body.classList.add("overflow-y-hidden"),this.focusable!==!1&&setTimeout(()=>this.firstFocusable().focus(),100)):document.body.classList.remove("overflow-y-hidden")})}}}window.Typed=r;window.fetchEventSource=l;const f=localStorage.getItem("lqdDarkMode"),u=localStorage.getItem("docsViewMode"),p=localStorage.getItem("lqdNavbarShrinked");window.collectCreditsToFormData=function(e){document.querySelectorAll('input[name^="entities"]').forEach(i=>{const a=i.name,o=i.type==="checkbox"||i.type==="radio"?i.checked:i.value;e.append(a,o)})};window.Alpine=t;t.plugin(n);document.addEventListener("alpine:init",()=>{t.data("modal",e=>d(e)),t.data("clipboard",e=>h(e)),t.store("navbarShrink",{active:t.$persist(!!p).as("lqdNavbarShrinked"),toggle(e){this.active=e?e==="shrink":!this.active,document.body.classList.toggle("navbar-shrinked",this.active)}}),t.data("navbarItem",()=>({dropdownOpen:!1,toggleDropdownOpen(e){this.dropdownOpen=e?e==="collapse":!this.dropdownOpen},item:{"x-ref":"item","@mouseenter"(){if(!t.store("navbarShrink").active)return;const e=this.$el.getBoundingClientRect(),s=this.$refs.item.querySelector(".lqd-navbar-dropdown");if(["y","height","bottom"].forEach(i=>this.$refs.item.style.setProperty(`--item-${i}`,`${e[i]}px`)),s){const i=s.getBoundingClientRect();["height"].forEach(a=>this.$refs.item.style.setProperty(`--dropdown-${a}`,`${i[a]}px`))}}}})),t.store("mobileNav",{navCollapse:!0,toggleNav(e){this.navCollapse=e?e==="collapse":!this.navCollapse},templatesCollapse:!0,toggleTemplates(e){this.templatesCollapse=e?e==="collapse":!this.templatesCollapse},searchCollapse:!0,toggleSearch(e){this.searchCollapse=e?e==="collapse":!this.searchCollapse}}),t.store("darkMode",{on:t.$persist(!!f).as("lqdDarkMode"),toggle(){this.on=!this.on,document.body.classList.toggle("theme-dark",this.on),document.body.classList.toggle("theme-light",!this.on)}}),t.store("appLoadingIndicator",{showing:!1,show(){this.showing=!0},hide(){this.showing=!1},toggle(){this.showing=!this.showing}}),t.store("docsViewMode",{docsViewMode:t.$persist(u||"list").as("docsViewMode"),change(e){this.docsViewMode=e}}),t.store("generatorsFilter",{init(){const e=new URLSearchParams(window.location.search);this.filter=e.get("filter")||"all"},filter:"all",changeFilter(e){if(this.filter!==e){if(!document.startViewTransition)return this.filter=e;document.startViewTransition(()=>this.filter=e)}}}),t.store("documentsFilter",{init(){const e=new URLSearchParams(window.location.search);this.sort=e.get("sort")||"created_at",this.sortAscDesc=e.get("sortAscDesc")||"desc",this.filter=e.get("filter")||"all",this.page=e.get("page")||"1"},sort:"created_at",sortAscDesc:"desc",filter:"all",page:"1",changeSort(e){e===this.sort?this.sortAscDesc=this.sortAscDesc==="desc"?"asc":"desc":this.sortAscDesc="desc",this.sort=e},changeAscDesc(e){this.ascDesc!==e&&(this.ascDesc=e)},changeFilter(e){this.filter!==e&&(this.filter=e)},changePage(e){(e===">"||e==="<")&&(e=e===">"?Number(this.page)+1:Number(this.page)-1),this.page!==e&&(this.page=e)}}),t.store("chatsFilter",{init(){const e=new URLSearchParams(window.location.search);this.filter=e.get("filter")||"all",this.setSearchStr(e.get("search")||"")},searchStr:"",setSearchStr(e){this.searchStr=e.trim().toLowerCase()},filter:"all",changeFilter(e){if(this.filter!==e){if(!document.startViewTransition)return this.filter=e;document.startViewTransition(()=>this.filter=e)}}}),t.data("generatorV2",()=>({itemsSearchStr:"",setItemsSearchStr(e){this.itemsSearchStr=e.trim().toLowerCase(),this.itemsSearchStr!==""?this.$el.closest(".lqd-generator-sidebar").classList.add("lqd-showing-search-results"):this.$el.closest(".lqd-generator-sidebar").classList.remove("lqd-showing-search-results")},sideNavCollapsed:!1,toggleSideNavCollapse(e){var s;this.sideNavCollapsed=e?e==="collapse":!this.sideNavCollapsed,this.sideNavCollapsed&&((s=tinymce==null?void 0:tinymce.activeEditor)==null||s.focus())},generatorStep:0,setGeneratorStep(e){if(e!==this.generatorStep){if(!document.startViewTransition)return this.generatorStep=Number(e);document.startViewTransition(()=>this.generatorStep=Number(e))}},selectedGenerator:null})),t.store("mobileChat",{sidebarOpen:!1,toggleSidebar(e){this.sidebarOpen=e?!1:!this.sidebarOpen}}),t.data("dropdown",({triggerType:e="hover"})=>({open:!1,toggle(s){this.open=s?s!=="collapse":!this.open,this.$refs.parent.classList.toggle("lqd-is-active",this.open)},parent:{"@mouseenter"(){e==="hover"&&this.toggle("expand")},"@mouseleave"(){e==="hover"&&this.toggle("collapse")},"@click.outside"(){this.toggle("collapse")}},trigger:{"@click.prevent"(){e==="click"&&this.toggle()}},dropdown:{}})),t.store("notifications",{notifications:[],loading:!1,add(e){this.notifications.unshift(e)},remove(e){this.notifications.splice(e,1)},markThenHref(e){const s=this.notifications.indexOf(e);if(s!==-1){var i=new FormData;i.append("id",e.id),this.loading=!0,$.ajax({url:"/dashboard/notifications/mark-as-read",type:"POST",data:i,cache:!1,contentType:!1,processData:!1,success:a=>{},error:a=>{console.error(a)},complete:()=>{this.markAsRead(s),window.location=e.link,this.loading=!1}})}},markAsRead(e){this.notifications=this.notifications.map((s,i)=>(i===e&&(s.unread=!1),s))},markAllAsRead(){this.loading=!0,$.ajax({url:"/dashboard/notifications/mark-as-read",type:"POST",success:e=>{e.success&&this.notifications.forEach((s,i)=>{this.markAsRead(i)})},error:e=>{console.error(e)},complete:()=>{this.loading=!1}})},setNotifications(e){this.notifications=e},hasUnread:function(){return this.notifications.some(e=>e.unread)}}),t.data("notifications",e=>({notifications:e||[]}))});c.start();
